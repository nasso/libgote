<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libgote: include/event/channel.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libgote
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_6f3b2b0c21cca25b28b3bb6241d8a0d3.html">event</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">channel.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;my/types.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for channel.h:</div>
<div class="dyncontent">
<div class="center"><img src="channel_8h__incl.png" border="0" usemap="#include_2event_2channel_8h" alt=""/></div>
<map name="include_2event_2channel_8h" id="include_2event_2channel_8h">
<area shape="rect" title=" " alt="" coords="5,5,164,32"/>
<area shape="rect" title=" " alt="" coords="43,80,127,107"/>
</map>
</div>
</div>
<p><a href="channel_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ab19b30f21f6a8a5cfcd71978dc9f2bd9"><td class="memItemLeft" align="right" valign="top">typedef struct gt_event_channel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a></td></tr>
<tr class="memdesc:ab19b30f21f6a8a5cfcd71978dc9f2bd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">An event channel.  <a href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">More...</a><br /></td></tr>
<tr class="separator:ab19b30f21f6a8a5cfcd71978dc9f2bd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac9054b072ee76dbd5b513e745a6b3048"><td class="memItemLeft" align="right" valign="top"><a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="channel_8h.html#ac9054b072ee76dbd5b513e745a6b3048">gt_event_channel_create</a> (usize_t event_type_size)</td></tr>
<tr class="memdesc:ac9054b072ee76dbd5b513e745a6b3048"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new event channel.  <a href="channel_8h.html#ac9054b072ee76dbd5b513e745a6b3048">More...</a><br /></td></tr>
<tr class="separator:ac9054b072ee76dbd5b513e745a6b3048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59ed72a5387f4ff4e8b02ca17e15ddd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="channel_8h.html#a59ed72a5387f4ff4e8b02ca17e15ddd1">gt_event_channel_destroy</a> (<a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a> *self)</td></tr>
<tr class="memdesc:a59ed72a5387f4ff4e8b02ca17e15ddd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy an event channel.  <a href="channel_8h.html#a59ed72a5387f4ff4e8b02ca17e15ddd1">More...</a><br /></td></tr>
<tr class="separator:a59ed72a5387f4ff4e8b02ca17e15ddd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55a8078d339e446a3d69bf3ac61cf135"><td class="memItemLeft" align="right" valign="top">u64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="channel_8h.html#a55a8078d339e446a3d69bf3ac61cf135">gt_event_channel_sub</a> (<a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a> *self)</td></tr>
<tr class="memdesc:a55a8078d339e446a3d69bf3ac61cf135"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe to an event channel.  <a href="channel_8h.html#a55a8078d339e446a3d69bf3ac61cf135">More...</a><br /></td></tr>
<tr class="separator:a55a8078d339e446a3d69bf3ac61cf135"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a195e8be2ddec1241858d80b7b2c9b426"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="channel_8h.html#a195e8be2ddec1241858d80b7b2c9b426">gt_event_channel_unsub</a> (<a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a> *self, u64_t handle)</td></tr>
<tr class="memdesc:a195e8be2ddec1241858d80b7b2c9b426"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsubscribe from an event channel.  <a href="channel_8h.html#a195e8be2ddec1241858d80b7b2c9b426">More...</a><br /></td></tr>
<tr class="separator:a195e8be2ddec1241858d80b7b2c9b426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a710acb032bfe4a801f6f01e99fe4c464"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="channel_8h.html#a710acb032bfe4a801f6f01e99fe4c464">gt_event_channel_poll</a> (<a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a> *self, u64_t handle, void *event)</td></tr>
<tr class="memdesc:a710acb032bfe4a801f6f01e99fe4c464"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll an event from an event channel.  <a href="channel_8h.html#a710acb032bfe4a801f6f01e99fe4c464">More...</a><br /></td></tr>
<tr class="separator:a710acb032bfe4a801f6f01e99fe4c464"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a135c053105dd4fe8e8daecc4095d3952"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="channel_8h.html#a135c053105dd4fe8e8daecc4095d3952">gt_event_channel_discard_all</a> (<a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a> *self, u64_t handle)</td></tr>
<tr class="memdesc:a135c053105dd4fe8e8daecc4095d3952"><td class="mdescLeft">&#160;</td><td class="mdescRight">Discard all events from the channel.  <a href="channel_8h.html#a135c053105dd4fe8e8daecc4095d3952">More...</a><br /></td></tr>
<tr class="separator:a135c053105dd4fe8e8daecc4095d3952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16bf9e9b6ac50e25801ef3e0cf5bc1aa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="channel_8h.html#a16bf9e9b6ac50e25801ef3e0cf5bc1aa">gt_event_channel_push</a> (<a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a> *self, const void *event)</td></tr>
<tr class="memdesc:a16bf9e9b6ac50e25801ef3e0cf5bc1aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push an event to the channel.  <a href="channel_8h.html#a16bf9e9b6ac50e25801ef3e0cf5bc1aa">More...</a><br /></td></tr>
<tr class="separator:a16bf9e9b6ac50e25801ef3e0cf5bc1aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ab19b30f21f6a8a5cfcd71978dc9f2bd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab19b30f21f6a8a5cfcd71978dc9f2bd9">&#9670;&nbsp;</a></span>gt_event_channel_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct gt_event_channel <a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An event channel. </p>
<p>Event channels have a ring buffer of events. Subscribing to a channel gives you a handle you can use to poll events independently from other subscribers. Subscribers must regularly poll events, because the ring buffer will keep growing as long as there are subscribers with events pending! </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac9054b072ee76dbd5b513e745a6b3048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9054b072ee76dbd5b513e745a6b3048">&#9670;&nbsp;</a></span>gt_event_channel_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a>* gt_event_channel_create </td>
          <td>(</td>
          <td class="paramtype">usize_t&#160;</td>
          <td class="paramname"><em>event_type_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new event channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event_type_size</td><td>The size of the event type of this channel. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new instance of <a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a>. </dd></dl>

</div>
</div>
<a id="a59ed72a5387f4ff4e8b02ca17e15ddd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59ed72a5387f4ff4e8b02ca17e15ddd1">&#9670;&nbsp;</a></span>gt_event_channel_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gt_event_channel_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy an event channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The event channel to destroy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a135c053105dd4fe8e8daecc4095d3952"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a135c053105dd4fe8e8daecc4095d3952">&#9670;&nbsp;</a></span>gt_event_channel_discard_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gt_event_channel_discard_all </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64_t&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Discard all events from the channel. </p>
<p>Calling this method has the same effect as calling <a class="el" href="channel_8h.html#a710acb032bfe4a801f6f01e99fe4c464">gt_event_channel_poll</a> until it returns false. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The event channel. </td></tr>
    <tr><td class="paramname">handle</td><td>The channel subscribtion handle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a710acb032bfe4a801f6f01e99fe4c464"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a710acb032bfe4a801f6f01e99fe4c464">&#9670;&nbsp;</a></span>gt_event_channel_poll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gt_event_channel_poll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Poll an event from an event channel. </p>
<p>All subscribers MUST absolutely call this method, even if they don't care about the events, otherwise the event channel's internal buffer will keep growing! Consider unsubscribing from the channel with <a class="el" href="channel_8h.html#a195e8be2ddec1241858d80b7b2c9b426">gt_event_channel_unsub</a> or calling <a class="el" href="channel_8h.html#a135c053105dd4fe8e8daecc4095d3952">gt_event_channel_discard_all</a> if you don't care about the events in the channel. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The event channel. </td></tr>
    <tr><td class="paramname">handle</td><td>The channel subscribtion handle. </td></tr>
    <tr><td class="paramname">event</td><td>A pointer to a memory zone on which to copy the event data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if an event was read, <code>false</code> if there isn't any new event. </dd></dl>

</div>
</div>
<a id="a16bf9e9b6ac50e25801ef3e0cf5bc1aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16bf9e9b6ac50e25801ef3e0cf5bc1aa">&#9670;&nbsp;</a></span>gt_event_channel_push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gt_event_channel_push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push an event to the channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The event channel. </td></tr>
    <tr><td class="paramname">event</td><td>A pointer from which to copy the event data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> in case of error, <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="a55a8078d339e446a3d69bf3ac61cf135"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55a8078d339e446a3d69bf3ac61cf135">&#9670;&nbsp;</a></span>gt_event_channel_sub()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u64_t gt_event_channel_sub </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribe to an event channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The event channel to subscribe to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new channel subscribtion handle, <code>0</code> on failure. </dd></dl>

</div>
</div>
<a id="a195e8be2ddec1241858d80b7b2c9b426"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a195e8be2ddec1241858d80b7b2c9b426">&#9670;&nbsp;</a></span>gt_event_channel_unsub()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gt_event_channel_unsub </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="channel_8h.html#ab19b30f21f6a8a5cfcd71978dc9f2bd9">gt_event_channel_t</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64_t&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unsubscribe from an event channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The event channel. </td></tr>
    <tr><td class="paramname">handle</td><td>The channel subscribtion handle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
